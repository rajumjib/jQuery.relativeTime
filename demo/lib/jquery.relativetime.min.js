/*!
 * jQuery.relativeTime jQuery Plugin v1.0
 * https://github.com/rajumjib/jQuery.relativeTime
 *
 * Copyright 2012, Jahirul Islam Bhuiyan
 * https://www.online4help.net/
 * Licensed under the MIT license.
 * https://github.com/rajumjib/jQuery.relativeTime/blob/master/LICENSE
 *
 * Date: Tue Dec 04 12:00:00 2012 +0600
 */

(function(){var e;e=function(){function e(e,t){this.startInterval=6e4;this.init(e,t)}e.prototype.init=function(e,t){this.$element=$(e);this.options=$.extend({},$.fn.relativeTime.defaults,t);this.updateTime();return this.startTimer()};e.prototype.startTimer=function(){var e;e=this;return this.interval=setInterval(function(){return e.refresh()},this.startInterval)};e.prototype.stopTimer=function(){return clearInterval(this.interval)};e.prototype.restartTimer=function(){this.stopTimer();return this.startTimer()};e.prototype.refresh=function(){this.updateTime();return this.updateInterval()};e.prototype.updateTime=function(){var e;e=this;return this.$element.findAndSelf(this.options.selector).each(function(){var t;t=e.relativeTimeInWords($(this).attr(e.options.attr));if(t)return $(this).html(t)})};e.prototype.updateInterval=function(){var e,t,n,r;if(this.$element.findAndSelf(this.options.selector).length>0){e=":first";r=this.$element.findAndSelf(this.options.selector).filter(e).attr(this.options.attr);t=this.parse(r);if(!t)return;n=this.getTimePeriodInMinutes(t);if(n>=0&&n<=44&&this.startInterval!==6e4){this.startInterval=6e4;return this.restartTimer()}else if(n>=45&&n<=89&&this.startInterval!==6e4*22){this.startInterval=6e4*22;return this.restartTimer()}else if(n>=90&&n<=2519&&this.startInterval!==6e4*30){this.startInterval=6e4*30;return this.restartTimer()}else if(n>=2520&&this.startInterval!==6e4*60*12){this.startInterval=6e4*60*12;return this.restartTimer()}}};e.prototype.relativeTimeInWords=function(e){var t=this.parse(e);if(!t)return;if(this.getTimePeriod(t)==0)return""+this.options.lang.prefixes.now;if(this.getTimePeriod(t)>0)return""+this.options.lang.prefixes.ago+this.periodOfTimeInWords(t)+this.options.lang.suffix.ago;else return""+this.options.lang.prefixes.left+this.periodOfTimeInWords(t)+this.options.lang.suffix.left};e.prototype.parse=function(e){if(!e)return;var t=$.trim(e);if(t.length<5)return;var n=new Date(t);if(!n)n=Date.parse(t);return n};e.prototype.getTimePeriodInMinutes=function(e){return Math.round(this.getTimePeriodInSeconds(e)/60)};e.prototype.getTimePeriodInSeconds=function(e){return Math.abs(this.getTimePeriod(e))};e.prototype.getTimePeriod=function(e){var t;t=(new Date).getTime()-e.getTime();return Math.round(t/1e3)};e.prototype.periodOfTimeInWords=function(e){var t;t=this.getTimePeriodInSeconds(e);if(t===0){return""+this.options.lang.prefixes.lt+" "+this.options.lang.units.second}else if(t===1){return"1 "+this.options.lang.units.second}else if(t>=2&&t<=8){return""+this.options.lang.prefixes.few+" "+this.options.lang.units.seconds}else if(t>=9&&t<=29){return""+t+" "+this.options.lang.units.seconds}else if(t>=30&&t<=44){return""+this.options.lang.prefixes.half+" "+this.options.lang.units.minute}else if(t>=45&&t<=55){return""+t+" "+this.options.lang.units.seconds}else if(t>=56&&t<=59){return""+this.options.lang.prefixes.lt+" "+this.options.lang.units.minute}t=Math.round(t/60);if(t<=1){return"1 "+this.options.lang.units.minute}else if(t>=2&&t<=8){return""+this.options.lang.prefixes.few+" "+this.options.lang.units.minutes}else if(t>=9&&t<=29){return""+t+" "+this.options.lang.units.minutes}else if(t>=30&&t<=44){return""+this.options.lang.prefixes.half+"n "+this.options.lang.units.hour}else if(t>=45&&t<=55){return""+t+" "+this.options.lang.units.minutes}else if(t>=56&&t<=59){return""+this.options.lang.prefixes.lt+"n "+this.options.lang.units.hour}t=Math.round(t/60);if(t<=1){return""+" 1 "+this.options.lang.units.hour}else if(t>=2&&t<=3){return""+this.options.lang.prefixes.few+" "+this.options.lang.units.hours}else if(t>=4&&t<=22){return""+this.options.lang.prefixes.about+" "+t+" "+this.options.lang.units.hours}else if(t>=23&&t<=24){return""+this.options.lang.prefixes.about+"1 "+this.options.lang.units.day}t=Math.round(t/24);if(t<=1){return""+" 1 "+this.options.lang.units.day}else if(t>=2&&t<=3){return""+this.options.lang.prefixes.few+" "+this.options.lang.units.days}else if(t>=4&&t<=6){return""+this.options.lang.prefixes.about+" "+t+" "+this.options.lang.units.days}else if(t>=7&&t<=8){return""+this.options.lang.prefixes.about+" 1 "+this.options.lang.units.week}else if(t>=9&&t<=13){return""+this.options.lang.prefixes.about+" 2 "+this.options.lang.units.weeks}else if(t>=14&&t<=17){return""+this.options.lang.prefixes.about+" "+this.options.lang.prefixes.half+" "+this.options.lang.units.month}else if(t>=18&&t<=26){return""+this.options.lang.prefixes.about+" "+t+" "+this.options.lang.units.days}else if(t>=27&&t<=29){return""+this.options.lang.prefixes.lt+" "+this.options.lang.units.month}t=Math.round(t/30);if(t<=1){return""+" 1 "+this.options.lang.units.month}else if(t>=2&&t<=3){return""+this.options.lang.prefixes.few+" "+this.options.lang.units.months}else if(t>=4&&t<=5){return""+this.options.lang.prefixes.about+" "+t+" "+this.options.lang.units.months}else if(t>=6&&t<=7){return""+this.options.lang.prefixes.about+" "+this.options.lang.prefixes.half+" "+this.options.lang.units.year}else if(t>=8&&t<=10){return""+this.options.lang.prefixes.about+" "+t+" "+this.options.lang.units.months}else if(t>=11&&t<=12){return""+this.options.lang.prefixes.lt+" "+this.options.lang.units.year}t=Math.round(t/12);if(t<=1){return""+" 1 "+this.options.lang.units.year}else if(t>=2&&t<=5){return""+this.options.lang.prefixes.few+" "+this.options.lang.units.years}else if(t>=6){return""+this.options.lang.prefixes.about+" "+t+" "+this.options.lang.units.years}else{return""+this.options.lang.prefixes.about+" "+t+" "+this.options.lang.units.years}};return e}();$.fn.relativeTime=function(t){if(t==null){t={}}return this.each(function(){var n,r;n=$(this);r=n.data("relativeTime");if(!r){n.data("relativeTime",new e(this,t))}if(typeof t==="string"){return r[t]()}})};$.fn.findAndSelf=function(e){return this.find(e).add(this.filter(e))};$.fn.relativeTime.Constructor=e;$.fn.relativeTime.defaults={selector:"time.relativeTime",attr:"datetime",lang:{units:{second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",week:"week",weeks:"weeks",month:"month",months:"months",year:"year",years:"years"},prefixes:{lt:"less than a",about:"about",over:"over",almost:"almost",few:"few",now:"just now",half:"half a",ago:"",left:""},suffix:{ago:" ago",left:" left"}}}}).call(this)